(()=>{"use strict";var n={554:(n,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.HTML_CONSTANTS=o.SELECTOR_DATE_PICKER_INPUT=o.SELECTOR_PROPERTY_VALUE=o.SELECTOR_DATE_MENTION=o.SELECTOR_DATE_FORMAT_CLEAR=o.SELECTOR_NEXT_MONTH=o.SELECTOR_PREV_MONTH=o.SELECTOR_DATE_BUTTONS=o.NOTION_URL_PATTERN=o.DEBOUNCE_DELAY=o.MESSAGE_TYPES=o.UI_ELEMENTS=o.STORAGE_KEYS=o.SELECTOR_REMINDERS=o.DATASET_KEYS=o.SYSTEM_FONTS=o.DEFAULT_FONT=o.SELECTOR_GLOBAL_FONTS=o.SELECTOR_RTL_ELEMENTS=o.SELECTOR_TODO_BLOCK=o.SELECTOR_TABLE_BLOCK=o.SELECTOR_BULLETED_LIST=o.SELECTOR_TOGGLE_BLOCK=o.SELECTOR_QUOTE_BLOCK=o.SELECTOR_NUMBERED_LIST=o.SELECTOR_CODE_BLOCK=o.SELECTOR_EDITABLE_TEXT=o.ALL_FONTS_CSS=o.DEFAULT_FONTS=o.UNICODE_RANGE=o.PANEL_STATE_KEY=o.SELECTOR_MENTIONS=o.CLICK_INSTRUCTION=o.NO_DATES_MESSAGE=o.PANEL_TITLE=o.TOAST_ID=o.SHOW_BTN_ID=o.HIDE_BTN_ID=o.MINIMIZE_BTN_ID=o.CONTENT_ID=o.PANEL_ID=o.SELECTOR_TABLE_DATES=o.TIME_THRESHOLD_MS=o.STANDARD_DATE_FORMAT=o.PERSIAN_MONTHS=o.MONTHS=o.LOG_PREFIX=void 0,o.LOG_PREFIX="mtlog:",o.MONTHS={january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12,jan:1,feb:2,mar:3,apr:4,jun:6,jul:7,aug:8,sep:9,sept:9,oct:10,nov:11,dec:12},o.PERSIAN_MONTHS=["ÙØ±ÙˆØ±Ø¯ÛŒÙ†","Ø§Ø±Ø¯ÛŒØ¨Ù‡Ø´Øª","Ø®Ø±Ø¯Ø§Ø¯","ØªÛŒØ±","Ù…Ø±Ø¯Ø§Ø¯","Ø´Ù‡Ø±ÛŒÙˆØ±","Ù…Ù‡Ø±","Ø¢Ø¨Ø§Ù†","Ø¢Ø°Ø±","Ø¯ÛŒ","Ø¨Ù‡Ù…Ù†","Ø§Ø³ÙÙ†Ø¯"],o.STANDARD_DATE_FORMAT=/^(\d{4})\/(\d{1,2})\/(\d{1,2})$/,o.TIME_THRESHOLD_MS=500,o.SELECTOR_TABLE_DATES="[data-testid='property-value'] div, div.notion-date",o.PANEL_ID="persian-dates-panel",o.CONTENT_ID="persian-dates-content",o.MINIMIZE_BTN_ID="persian-dates-minimize",o.HIDE_BTN_ID="persian-dates-hide",o.SHOW_BTN_ID="persian-dates-show-button",o.TOAST_ID="persian-dates-toast",o.PANEL_TITLE="Persian Dates",o.NO_DATES_MESSAGE="No date mentions found.",o.CLICK_INSTRUCTION="Click a date to copy Persian format or scroll to its location",o.SELECTOR_MENTIONS=".notion-text-mention-token .notion-reminder",o.PANEL_STATE_KEY="persian-dates-panel-state",o.UNICODE_RANGE="U+0600-06FF, U+0750-077F, U+FB50-FDFF, U+FE70-FEFF",o.DEFAULT_FONTS=[{en_name:"Vazirmatn",fa_name:"ÙˆØ²ÛŒØ± Ù…ØªÙ†",creator:"ØµØ§Ø¨Ø± Ø±Ø§Ø³ØªÛŒ Ú©Ø±Ø¯Ø§Ø±"},{en_name:"Sahel",fa_name:"Ø³Ø§Ø­Ù„",creator:"ØµØ§Ø¨Ø± Ø±Ø§Ø³ØªÛŒ Ú©Ø±Ø¯Ø§Ø±"},{en_name:"Parastoo",fa_name:"Ù¾Ø±Ø³ØªÙˆ",creator:"ØµØ§Ø¨Ø± Ø±Ø§Ø³ØªÛŒ Ú©Ø±Ø¯Ø§Ø±"}],o.ALL_FONTS_CSS=`\n/* ========== Vazirmatn ========== */\n@font-face {\n  font-family: "Vazirmatn";\n  src:\n    url("${chrome.runtime.getURL("assets/fonts/vazir/Vazirmatn[wght].woff2")}")\n      format("woff2 supports variations"),\n    url("${chrome.runtime.getURL("assets/fonts/vazir/Vazirmatn[wght].woff2")}")\n      format("woff2-variations");\n  font-weight: 100 900;\n  font-style: normal;\n  font-display: swap;\n  unicode-range: ${o.UNICODE_RANGE};\n}\n\n/* ========== Sahel ========== */\n@font-face {\n  font-family: "Sahel";\n  src:\n    url("${chrome.runtime.getURL("assets/fonts/sahel/Sahel-VF.woff2")}")\n      format("woff2 supports variations"),\n    url("${chrome.runtime.getURL("assets/fonts/sahel/Sahel-VF.woff2")}")\n      format("woff2-variations");\n  font-weight: 100 900;\n  font-style: normal;\n  font-display: swap;\n  unicode-range: ${o.UNICODE_RANGE};\n}\n\n/* ========== Parastoo ========== */\n@font-face {\n  font-family: "Parastoo";\n  src: url("${chrome.runtime.getURL("assets/fonts/parastoo/Parastoo.woff2")}") format("woff2");\n  font-weight: normal;\n  font-style: normal;\n  unicode-range: ${o.UNICODE_RANGE};\n}\n@font-face {\n  font-family: "Parastoo";\n  src: url("${chrome.runtime.getURL("assets/fonts/parastoo/Parastoo-Bold.woff2")}")\n    format("woff2");\n  font-weight: bold;\n  font-style: normal;\n  unicode-range: ${o.UNICODE_RANGE};\n}\n\n/* Keep code blocks in LTR */\n.notion-text-content[data-content-type="code"] {\n  direction: ltr !important;\n  text-align: left !important;\n  font-family: "SF Mono", "Consolas", "Monaco", "Andale Mono", monospace !important;\n}\n`,o.SELECTOR_EDITABLE_TEXT='.notranslate[data-content-editable-leaf="true"]',o.SELECTOR_CODE_BLOCK='[data-content-type="code"]',o.SELECTOR_NUMBERED_LIST=".notion-selectable.notion-numbered_list-block",o.SELECTOR_QUOTE_BLOCK=".notion-quote-block",o.SELECTOR_TOGGLE_BLOCK=".notion-selectable.notion-toggle-block",o.SELECTOR_BULLETED_LIST=".notion-selectable.notion-bulleted_list-block",o.SELECTOR_TABLE_BLOCK=".notion-table-block",o.SELECTOR_TODO_BLOCK=".notion-to_do-block",o.SELECTOR_RTL_ELEMENTS='.notion-body h1, .notion-body h2, .notion-body h3, .notion-body h4, .notion-body h5, .notion-body h6, .notion-table-view th, .notion-table-view td, .notion-collection_view-block div[data-content-editable-void="true"] > div:nth-child(2), .notion-table-view-header-cell, .notion-table-view-cell',o.SELECTOR_GLOBAL_FONTS=[".notion-page-content",".notion-table-view",".notion-board-view",".notion-gallery-view",".notion-page-block",".notion-topbar",".notion-body",".notion-selectable",".notion-collection_view-block",".notion-frame",".notion-collection-item"].join(", "),o.DEFAULT_FONT="Vazirmatn",o.SYSTEM_FONTS='-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, sans-serif',o.DATASET_KEYS={ORIGINAL_DATE:"originalDate",CONVERTED:"converted"},o.SELECTOR_REMINDERS=".notion-reminder",o.STORAGE_KEYS={PERSIAN_INPUT:"persianInput",FONT_INJECTION_ENABLED:"fontInjectionEnabled",SELECTED_FONT:"selectedFont",PERSIAN_NUMBERS:"persianNumbers"},o.UI_ELEMENTS={PERSIAN_TOGGLE:"persian-toggle",FONT_TOGGLE:"font-toggle",RESET_BUTTON:"reset-button",ERROR_MESSAGE:"error-message",FONT_SELECTOR_CONTAINER:"font-selector-container",FONT_SELECTOR:"font-selector",FONT_AUTHOR:"font-author",STATUS:"status",CALL_MESSAGE:"call-message"},o.MESSAGE_TYPES={APPLY_SETTINGS:"applySettings",RESET_COMPLETE:"resetComplete",ERROR_COUNT_CHANGED:"errorCountChanged",CHECK_ERRORS:"checkErrors",REFRESH_CONVERSION:"refreshConversion"},o.DEBOUNCE_DELAY=300,o.NOTION_URL_PATTERN="*://*.notion.so/*",o.SELECTOR_DATE_BUTTONS='button[name="day"]',o.SELECTOR_PREV_MONTH='button[name="previous-month"]',o.SELECTOR_NEXT_MONTH='button[name="next-month"]',o.SELECTOR_DATE_FORMAT_CLEAR='[role="button"]',o.SELECTOR_DATE_MENTION=".notion-selectable",o.SELECTOR_PROPERTY_VALUE='[data-testid="property-value"]',o.SELECTOR_DATE_PICKER_INPUT=".rdp",o.HTML_CONSTANTS={TITLE:"Ù†ÙˆØ´Ù† ÙØ§Ø±Ø³ÛŒ",HEADER_TEXT:"Ù†ÙˆØ´Ù† ÙØ§Ø±Ø³ÛŒ",CALENDAR_LABEL:"ØªØ§Ø±ÛŒØ® Ø´Ù…Ø³ÛŒ",FONT_LABEL:"ÙÙˆÙ†Øª ÙØ§Ø±Ø³ÛŒ",CALL_MESSAGE:"Ø§Ú¯Ù‡ Ú†ÛŒØ²ÛŒ Ø®Ø±Ø§Ø¨ Ø¨ÙˆØ¯ØŒ ÛŒÙ‡ Ø®Ø¨Ø± Ø¨Ù‡Ù… Ø¨Ø¯Ù‡  ðŸž",FOOTER_NAME:"Matthew Truth"}}},o={};function t(E){var e=o[E];if(void 0!==e)return e.exports;var T=o[E]={exports:{}};return n[E](T,T.exports,t),T.exports}(()=>{const n=t(554);function o(o){chrome.storage.sync.get([n.STORAGE_KEYS.PERSIAN_INPUT,n.STORAGE_KEYS.FONT_INJECTION_ENABLED,n.STORAGE_KEYS.SELECTED_FONT],(t=>{chrome.tabs.sendMessage(o,{type:n.MESSAGE_TYPES.APPLY_SETTINGS,data:t})}))}chrome.tabs.onUpdated.addListener(((n,t,E)=>{E.url&&E.url.includes("notion.so")&&"complete"===t.status?o(n):chrome.action.disable(n)})),chrome.tabs.onActivated.addListener((n=>{chrome.tabs.get(n.tabId,(n=>{n&&n.url&&n.url.includes("notion.so")&&void 0!==n.id&&o(n.id)}))})),chrome.storage.onChanged.addListener(((t,E)=>{"sync"===E&&(t[n.STORAGE_KEYS.PERSIAN_INPUT]||t[n.STORAGE_KEYS.FONT_INJECTION_ENABLED]||t[n.STORAGE_KEYS.SELECTED_FONT])&&chrome.tabs.query({url:n.NOTION_URL_PATTERN},(n=>{n.forEach((n=>{n.id&&o(n.id)}))}))}))})()})();
//# sourceMappingURL=background.js.map